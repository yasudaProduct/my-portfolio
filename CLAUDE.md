# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリで作業する際のガイダンスを提供します。

## 開発コマンド

- `npm run dev` - ホットリロード付き開発サーバーを起動
- `npm run build` - 本番用バンドルをビルド
- `npm run preview` - 本番ビルドをローカルでプレビュー

## アーキテクチャ概要

これは、ブラウザ上でデスクトップOSインターフェースをシミュレートするVue 3 + Viteアプリケーションです。以下の主要概念を持つコンポーネントベースのアーキテクチャを使用しています：

### コアアプリケーション構造

**App.vue**はメインのデスクトップ環境コントローラーとして機能し、以下を管理します：
- アプリケーションレジストリ（デスクトップアイコンの`apps`配列）
- ウィンドウ状態管理（`openWindows`配列）
- ウィンドウライフサイクル（作成、フォーカス、閉じる）
- ウィンドウレイヤー用のZ-index管理

### コンポーネント階層

**DesktopIcon.vue** - 絶対位置指定の個別デスクトップアイコン
- Props: `icon`、`name`、`x`、`y`座標
- アプリケーションを開くためのクリックイベントを発行

**Window.vue** - ドラッグ可能、リサイズ可能なウィンドウシステム
- 完全なウィンドウ管理：ドラッグ、リサイズ（8つのリサイズハンドル）、最小化/最大化/閉じる
- リアクティブな`windowStyle`計算プロパティによる動的な位置とサイズ調整
- Z-indexベースのフォーカス管理
- ドラッグとリサイズ操作のマウスイベント処理

**Taskbar.vue** - スタートメニューとウィンドウ管理を持つ下部タスクバー
- スタートメニューの切り替え機能
- リアルタイム時計表示
- 開いているアプリケーションのウィンドウボタン
- backdrop-filterを使用したグラスモーフィズムスタイリング

### 状態管理パターン

アプリケーションは、App.vueがすべてのウィンドウ状態を維持する集中型状態パターンを使用します：
- 一意識別とレイヤリング用の`nextWindowId`と`nextZIndex`
- ウィンドウオブジェクトには以下が含まれます：id、title、content、position（x,y）、dimensions（width,height）、zIndex
- コンテンツは`getWindowContent()`を介してアプリケーションタイプに基づいて動的に生成

### スタイリングアーキテクチャ

コンポーネントは一貫したデザインシステムでスコープ付きCSSを使用します：
- `backdrop-filter: blur()`を使用したグラスモーフィズム効果
- 透明度のためのグラデーション背景とrgbaカラー
- ホバー状態とスムーズなトランジション
- デスクトップライクなレイアウトの絶対位置指定
- 下部の固定タスクバー（高さ：50px）

### ウィンドウコンテンツシステム

アプリケーションは、以下の定義済みテンプレートで`v-html`を介してHTMLコンテンツをレンダリングします：
- ファイルリスト付きファイルマネージャー
- textarea付きテキストエディタ
- ボタングリッド付き計算機
- アドレスバー付きブラウザ
- フォームコントロール付き設定

コンテンツ生成は、アプリケーション名に基づいてHTML文字列を返す`getWindowContent()`メソッドで処理されます。